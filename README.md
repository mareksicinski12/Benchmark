# Benchmark
## Test Plan

| Test Case | Test Description | SQL Feature(s) Involved         | Expected Outcome                                                                 |
|-----------|------------------|---------------------------------|---------------------------------------------------------------------------------|
| 1         | Retrieve all posts along with their owner's display name, filtering posts created within the last 7 days. | JOIN, Time Functions                     | Posts with owner details filtered by recent creation dates.                     |
| 2         | Find the top 5 users with the highest average score on their posts. | Window Functions, Joins                  | A ranked list of users by average post scores, limited to 5 users.              |
| 3         | Count the number of badges for each user and categorize users by badge count using a CTE. | CTE, Aggregation                         | Badge counts categorized and grouped by user, displayed with descriptive categories. |
| 4         | Analyze post activity by hour of day (grouped by creation hour), including total posts and average score. | Time Functions, GROUPING SETS            | Aggregated post counts and scores grouped by hours of the day.                  |
| 5         | Display all posts with JSON-formatted tags and their respective tag counts. | JSON, Subqueries                         | Posts displayed with tags in JSON format along with a count of how many tags each post has. |
| 6         | Show users with missing profile images (NULL in ProfileImageUrl) and join with posts, including all posts. | FULL OUTER JOIN, Filtering, BYTEA                     | List of users with NULL ProfileImageUrl, joined with all their posts (or NULL where posts don't exist).                            |
| 7         | Validate filtering of users whose ProfileImageUrl is not NULL, does not start with 'http://i.stack.imgur.com/', and whose Base64-encoded URL length is < 70 | NOT LIKE operator LENGTH function ENCODE and convert_to functions (Base64 encoding)            |Output should exclude URLs starting with 'http://i.stack.imgur.com/' and only include valid URLs shorter than 70 characters when encoded in Base64. ( setting a size threshold to the lowest level)       |
| 8         | Retrieve the number of posts for each tag, the average score of posts in each tag, and group them as JSON objects. | CTE, JSON, Aggregation, Text Functions                        | Stats for every post sorted as JSON object                       |
| 9         | Create user profiles summarizing their activity using text concatenation and time-based filtering for posts created in the last 6 months. | Joins, Aggregation, CTEs, Text Functions, Time Functions                 | List of recent post titles in the past 6 months, post count and last post date       |
| 10        | Retrieve users with more than 10 badges and display their post details if they have over 5 accepted answers. | Joins, Subqueries, CTEs (later array for titles)                        | List of qualified users with their corresponding post details.                  |
| 11        | Find top 3 user with the 3rd most active posts (most comments), (include both posts with comments and users with no posts via a FULL OUTER JOIN.) | FULL OUTER JOIN, CTE, AGGREGATION, LEFT JOIN           | sers with the most active posts (most comments), showing their post titles, the average comment score for their posts, and the total comment count, grouped by their display name                 |
| 12        | Identify users with a reputation over 10,000 and their posts with scores greater than the average score. | Joins, Window Functions, Subqueries      | Users meeting the reputation threshold with their posts above the average score.|
| 13        | Find interesting stats about the top 10 users. | Subquery, Date Functions, Joins, CTE, Window Functions | Features about users     
| 14        | Retrieve All Posts and Their Recursive Parent-Child Relationships with User Details  | Recursive Query, Text Functions, FULL OUTER JOIN |  parent-child relationships of posts, limit post bodies to 100 characters, include posts without users and users without posts                                                      |
| 15        | Check with which users a user with id = 13 has interacted with  | Recursive query, Join |  explore interaction history with other users (id of the users).                                                   |
| 16        | [OFF-ROAD surprise]  fetch posts where title length exceeds 50 characters using 15+ nested subqueries. |  Deeply Nested Subqueries | Tests the systemâ€™s handling of extremely long and deeply nested query structures.                                                    | 


